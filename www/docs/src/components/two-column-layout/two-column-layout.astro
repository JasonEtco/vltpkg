---
import MobileSidebar from '@/components/page-sidebar/mobile-sidebar.tsx'

const { toc } = Astro.locals.starlightRoute
---

<div
  class="mx-auto flex h-fit max-h-full w-full max-w-screen-xl flex-col md:justify-between lg:flex-row">
  {
    toc && (
      <>
        {/* desktop */}
        <div class="relative sticky top-[101px] order-2 hidden h-fit lg:flex">
          <slot name="right-sidebar" />
        </div>

        {/* mobile */}
        <div class="sticky top-0 z-[10] flex md:hidden">
          <MobileSidebar
            {...Astro.locals.starlightRoute}
            client:load
          />
        </div>
      </>
    )
  }
  <div class="order-1 h-fit w-full">
    <slot />
  </div>
</div>
